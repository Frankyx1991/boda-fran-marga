<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Test Firebase Storage</title>
</head>
<body>
<h2>Prueba de subida directa</h2>
<p id="estado">Comprobando...</p>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyCnkjY4-MceKRyLmQlMVaA39hUIQ6nMVO8",
  authDomain: "boda-fran-marga-live.firebaseapp.com",
  projectId: "boda-fran-marga-live",
  storageBucket: "boda-fran-marga-live.appspot.com",
  messagingSenderId: "945235222189",
  appId: "1:945235222189:web:ed972fab8e98620d21b024"
};
firebase.initializeApp(firebaseConfig);
const storage = firebase.storage();

(async()=>{
  const el=document.getElementById("estado");
  try{
    const blob=new Blob(["prueba"],{type:"text/plain"});
    const ref=storage.ref("boda-fran-marga/test_upload.txt");
    await ref.put(blob);
    el.textContent="✅ Subida correcta";
  }catch(e){
    el.textContent=`❌ Error: ${e.code} — ${e.message}`;
  }
})();
</script>
</body>
</html>