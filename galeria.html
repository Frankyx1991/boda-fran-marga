<script>
  // URL del Web App (la tuya)
  const APPS_SCRIPT_URL =
    "https://script.google.com/macros/s/AKfycbxXP8C7m2wZs_PouM0eS482y63bPymYPTws-u1LdH6yF5vGhSR7E4uBAFkguWA93BPn/exec";

  const $ = (s) => document.querySelector(s);
  const toast = (msg) => {
    const el = $('#toast');
    el.textContent = msg;
    el.classList.add('show');
    clearTimeout(window.__t);
    window.__t = setTimeout(() => el.classList.remove('show'), 3200);
  };

  async function uploadFile(file, folder) {
    if (!file) return;
    const maxMB = 25;
    if (file.size > maxMB * 1024 * 1024) {
      toast(`El archivo supera ${maxMB} MB.`);
      return;
    }

    const form = new FormData();
    form.append('file', file);
    form.append('folder', folder); // 'fotos' | 'videos' | 'galeria'

    toast('Subiendoâ€¦ Por favor espera');
    try {
      // no-cors: sube sin avisos en consola (no se puede leer la respuesta)
      await fetch(APPS_SCRIPT_URL, { method: 'POST', body: form, mode: 'no-cors' });
      toast('Â¡Gracias por compartir este momento con nosotros ðŸ’–!');
    } catch (err) {
      console.error(err);
      toast('Error al subir. Vuelve a intentarlo.');
    }
  }

  const inPhoto   = $('#inPhoto');
  const inVideo   = $('#inVideo');
  const inGallery = $('#inGallery');

  $('#btnPhoto').onclick   = () => inPhoto.click();
  $('#btnVideo').onclick   = () => inVideo.click();
  $('#btnGallery').onclick = () => inGallery.click();

  inPhoto.onchange   = (e) => uploadFile(e.target.files[0], 'fotos');
  inVideo.onchange   = (e) => uploadFile(e.target.files[0], 'videos');
  inGallery.onchange = (e) => uploadFile(e.target.files[0], 'galeria');
</script>