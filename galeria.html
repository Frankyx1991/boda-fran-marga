<script>
  // Tu Web App (la que abre y muestra "OK")
  const APPS_SCRIPT_URL =
    "https://script.google.com/macros/s/AKfycbxXP8C7m2wZs_PouM0eS482y63bPymYPTws-u1LdH6yF5vGhSR7E4uBAFkguWA93BPn/exec";

  const $ = s => document.querySelector(s);
  const toast = (m) => { const t = $('#toast'); t.textContent = m; t.classList.add('show');
    clearTimeout(window.__t); window.__t=setTimeout(()=>t.classList.remove('show'), 3500); };

  async function uploadFile(file, folder){
    if(!file) return;

    const form = new FormData();
    form.append('file', file);
    form.append('folder', folder); // 'fotos' | 'videos' | 'galeria'

    toast('Subiendoâ€¦ Por favor espera');
    try{
      // no-cors: sube sin warnings en consola (no podemos leer la respuesta)
      await fetch(APPS_SCRIPT_URL, { method:'POST', body: form, mode:'no-cors' });
      toast('Â¡Gracias por compartir este momento con nosotros ðŸ’–!');
    }catch(e){
      console.error(e);
      toast('Error al subir. Vuelve a intentarlo.');
    }
  }

  const inPhoto=$('#inPhoto'), inVideo=$('#inVideo'), inGallery=$('#inGallery');
  $('#btnPhoto').onclick   = ()=> inPhoto.click();
  $('#btnVideo').onclick   = ()=> inVideo.click();
  $('#btnGallery').onclick = ()=> inGallery.click();

  inPhoto.onchange   = e => uploadFile(e.target.files[0], 'fotos');
  inVideo.onchange   = e => uploadFile(e.target.files[0], 'videos');
  inGallery.onchange = e => uploadFile(e.target.files[0], 'galeria');
</script>
